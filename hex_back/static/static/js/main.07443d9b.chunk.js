(this.webpackJsonphex_front=this.webpackJsonphex_front||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(17)},,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(6),l=n.n(c),o=(n(12),n(1));function u(){var e=Object(a.useState)("blop"),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_RASPBERRY||"","/"),{method:"GET"}).then((function(e){return e.text()})).then((function(e){return c(e)}))}),[]),r.a.createElement("div",null," ",r.a.createElement("b",null," ",n," ")," ")}var i=n(3),m=n.n(i),d=n(4);n(14);function s(e){return r.a.createElement("div",{className:"hexagon player".concat(e.player),onClick:function(){!e.player&&e.canPlay&&e.handleClickBrd(e.idxX,e.idxY)}})}var E=n(2);n(15);function f(e){var t=function(t,n){e.game.player===e.playerID&&(e.setCanPlay(!1),fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_RASPBERRY||"","/hex/play/").concat(e.game.id),{method:"POST",body:JSON.stringify({player:e.game.player,x:t,y:n})}).then((function(e){return e.json()})).then((function(t){e.setGame(t)})).finally((function(){return e.setCanPlay(!0)})))},n=function(e){var t=[];return e[0].forEach((function(e,n){t.push(r.a.createElement(s,{key:n,player:2}))})),t},a=76*(e.game.board.length+(e.game.board.length-1)/2+2);return r.a.createElement("div",null,"C'est au tour du ",r.a.createElement("span",{style:{color:1===e.game.player?"lawngreen":"red"}}," joueur ",e.game.player," "),r.a.createElement("div",{className:"board",style:{width:a,marginLeft:"calc(calc(100% - ".concat(a,"px)/2)")}},r.a.createElement("div",{className:"row",style:{paddingLeft:38}},n(e.game.board)),e.game.board.map((function(n,a){return r.a.createElement("div",{key:a,className:"row",style:{paddingLeft:38*a}},r.a.createElement(s,{player:1}),n.map((function(n,c){return r.a.createElement(s,{key:c,idxX:a,idxY:c,handleClickBrd:t,canPlay:e.canPlay,player:n?n.player:void 0})})),r.a.createElement(s,{player:1}))})),r.a.createElement("div",{className:"row",style:{paddingLeft:38*(e.game.board.length+2)}},n(e.game.board))),r.a.createElement(E.a,{open:null!=e.game.winner,closeOnDocumentClick:!0},r.a.createElement("div",null,r.a.createElement("span",{style:{color:1===e.game.winner?"lawngreen":"red"}}," ",r.a.createElement("b",null,"Joueur ",e.game.winner," a gagn\xe9 ")))))}function p(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(!1),u=Object(o.a)(l,2),i=u[0],s=u[1],p=Object(a.useState)(null),b=Object(o.a)(p,2),v=b[0],O=b[1],h=Object(a.useState)(!1),y=Object(o.a)(h,2),g=y[0],S=y[1],_=Object(a.useState)(!1),C=Object(o.a)(_,2),T=C[0],j=C[1],P=Object(a.useState)(null),R=Object(o.a)(P,2),w=R[0],x=R[1],k=Object(a.useState)(null),D=Object(o.a)(k,2),N=D[0],A=D[1],W=function(){return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_RASPBERRY||"","/hex/get/").concat(w),{method:"GET"}).then((function(e){return e.json()})).then((function(e){c(e)}))};Object(a.useEffect)((function(){var e=setTimeout(Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!i||n.winner){e.next=4;break}return e.next=4,W();case 4:return e.prev=4,j(!T),e.finish(4);case 7:case"end":return e.stop()}}),e,null,[[0,,4,7]])}))),1e3);return function(){clearTimeout(e)}}),[T]);var B=function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W();case 3:s(!0),S(!0),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return i?null===n?r.a.createElement("div",null,' "Empty game" '):r.a.createElement("div",null,"Tu es le ",r.a.createElement("b",null,"joueur ",v," ")," et tu joues \xe0 la partie ",r.a.createElement("b",null,"n\xb0 ",n.id," "),r.a.createElement(f,{game:n,setGame:c,playerID:v,setCanPlay:S,canPlay:g})):r.a.createElement("div",null,r.a.createElement(E.a,{trigger:r.a.createElement("button",{className:"button"}," Nouveau jeu"),modal:!0,closeOnDocumentClick:!0},r.a.createElement("div",{className:"modal"},r.a.createElement("div",null,r.a.createElement("label",null,"Taille du jeu : "),r.a.createElement("input",{type:"number",id:"boardId",min:"1",max:"15",onChange:function(e){return A(e.target.value)}})),r.a.createElement("button",{onClick:function(){fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_RASPBERRY||"","/hex/new/").concat(N),{method:"GET"}).then((function(e){return e.json()})).then((function(e){c(e),O(e.player),s(!0),S(!0),x(e.id)}))}},"Nouveau"))),r.a.createElement(E.a,{trigger:r.a.createElement("button",{className:"button"}," Rejoindre un jeu "),modal:!0,closeOnDocumentClick:!0},r.a.createElement("div",{className:"modal"},r.a.createElement("div",null,r.a.createElement("label",null,"Partie : "),r.a.createElement("input",{type:"number",id:"boardId",min:"0",max:"9",onChange:function(e){return x(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("label",null,"Joueur : "),r.a.createElement("input",{type:"radio",id:"1",name:"playeur",checked:1===v,onChange:function(){return O(1)}}),r.a.createElement("label",null,"1"),r.a.createElement("input",{type:"radio",id:"2",name:"playeur",checked:2===v,onChange:function(){return O(2)}}),r.a.createElement("label",null,"2")),r.a.createElement("button",{onClick:function(){B()}},"Rejoindre"))))}n(16);var b=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(u,null),r.a.createElement(p,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.07443d9b.chunk.js.map